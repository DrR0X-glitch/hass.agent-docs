<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="LAB02-Research" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Actions Usage and Examples - NOTE Outdated docs</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Actions Usage and Examples";
        var mkdocs_page_input_path = "commands\\actions-usage-and-examples.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> NOTE Outdated docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../outdated/">OUTDATED DOCUMENTATION</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../introduction/">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../configuration/">Configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../installation-and-configuration-summary/">Installation and Configuration Summary</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../updating/">Updating</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../usage/">Usage</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../screenshots/">Screenshots</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../clean-slate/">Clean Slate</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../performance-counter-debugging/">Performance Counter Debugging</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../translating/">Translating</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/">Misc Examples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../wmi-examples/">WMI Examples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/activewindowsensor-multiple-processes/">ActiveWindowSensor - Multiple Processes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/adjust-screen-brightness/">Adjust Screen Brightness</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/pc-card/">PC Card</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/pc-state/">PC State Cards</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Commands</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../command-basics/">Command Basics</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Actions Usage and Examples</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../elevated-custom-command/">Elevated Custom Command</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Integration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../integration/introduction/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../integration/installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../integration/configuration/">Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../integration/debugging/">Debugging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Media Player</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../mediaplayer/mediaplayer-usage-and-examples/">MediaPlayer Usage and Examples</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Notifications</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../notifications/notification-usage-and-examples/">Notification Usage and Examples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../notifications/new/notification-actionable/">Actionable Notifications</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../notifications/new/notification-debugging/">Notification Debugging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Notifications Legacy</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../notifications/notification-debugging-client-side/">Notification Debugging - Client Side</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../notifications/notification-debugging-ha-side/">Notification Debugging - HA Side</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../notifications/notification-debugging-ssl/">Notification Debugging - SSL</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Development</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../development/introduction/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../development/commands/">Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../development/sensors/">Sensors</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">NOTE Outdated docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Commands</li>
      <li class="breadcrumb-item active">Actions Usage and Examples</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="actions-usage-and-examples">Actions Usage and Examples</h1>
<p>Normal commands contain a predefined value, which you can execute by toggling the command in Home Assistant. The limitation here is that you can't pass variables, say if you'd want to set the volume to a specific volume. Your only options would be volume up, volume down or make 100 buttons for every step..</p>
<p>By using <strong>actions</strong>, you can pass additional variables when launching your command through an automation or script. The name action comes from the fact that HASS.Agent uses HA's built-in <a href="https://www.home-assistant.io/docs/mqtt/discovery/">action MQTT topic</a>.</p>
<p><strong>Not all commands support actions</strong>. For instance, there's no point passing an action to a <code>Shutdown</code> command (come to think of it, there is: the amount of seconds to wait before shutting down, but you get the idea).</p>
<p>At the time of writing, these commands support actions: <code>Custom</code>, <code>Custom Executor</code>, <code>Launch Url</code> and <code>Powershell</code></p>
<p>You can easily see the current supported commands through the interface, by looking at this column:</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/81011038/161010961-b8f4204b-1751-45a0-9304-ded508227b05.png" /></p>
<p>To use actions, you need to create an automation or script that publishes to the command's action topic. HASS.Agent will then run the command, passing your variables to it.</p>
<p>This is an example automation, which uses the state of an input_boolean to trigger (I use that for testing). It will launch <a href="https://github.com/stefankueng/BowPad">BowPad</a>, my favorite notepad replacement. </p>
<p>Notice the escaped quotes: <code>\"</code> and escaped backslashes: <code>\\</code> - it's your responsibility to get those right!</p>
<pre><code class="language-yaml">- alias: tests - custom command with action
  description: &quot;Test custom command with an action&quot;
  initial_state: true
  mode: single
  trigger:
    platform: state
    entity_id: input_boolean.test_custom_command_with_action
    to: &quot;on&quot;
  action:
    - service: mqtt.publish
      data:
        topic: &quot;homeassistant/switch/test-vm/test-vm_custom/action&quot;
        payload: &quot;\&quot;C:\\Program Files\\BowPad\\BowPad.exe\&quot;&quot;
    - delay:
        seconds: 2
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.test_custom_command_with_action
</code></pre>
<p>This is the corresponding HASS.Agent configuration:</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/81011038/161011893-21ff75d6-ec5b-4d54-9f92-d924c1f6f7b7.png" /></p>
<p>As you can see, I've left the command part empty, since we're sending that from Home Assistant. </p>
<p>Another option is to add your command to HASS.Agent, and then send additional parameters from Home Assistant. To stick with the above example, in this case I would configure BowPad here:</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/81011038/161015700-70d79c36-f07b-40ed-a60b-fefbb0f121ff.png" /></p>
<p>And then use the automation to launch a text file in BowPad:</p>
<pre><code class="language-yaml">- alias: tests - custom command with action
  description: &quot;Test custom command with an action&quot;
  initial_state: true
  mode: single
  trigger:
    platform: state
    entity_id: input_boolean.test_custom_command_with_action
    to: &quot;on&quot;
  action:
    - service: mqtt.publish
      data:
        topic: &quot;homeassistant/switch/test-vm/test-vm_custom/action&quot;
        payload: &quot;\&quot;D:\\Staging\\TestFiles\\test_file.txt\&quot;&quot;
    - delay:
        seconds: 2
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.test_custom_command_with_action
</code></pre>
<p>To help you find the correct topic, there's a <code>show mqtt action topic</code> button when you've selected a supported command:</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/81011038/161012746-870fe99f-f1bb-4b18-95c5-97088bbd4f38.png" /></p>
<p>This will show you the exact topic, and the option to copy the value to your clipboard:</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/81011038/161013081-9aeeda25-ce30-436b-9740-730cdefde5b9.png" /></p>
<p><strong>Make sure you've entered the correct type and name of your command before copying this!</strong></p>
<hr />
<p>If you've built a great command action, please share! You can mail it to lab02research@outlook.com or tell me on <a href="https://discord.gg/nMvqzwrVBU">Discord</a>, and I'll add it to this page for everlasting fame 😎 </p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../command-basics/" class="btn btn-neutral float-left" title="Command Basics"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../elevated-custom-command/" class="btn btn-neutral float-right" title="Elevated Custom Command">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../command-basics/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../elevated-custom-command/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
      <script src="../../js/version-select.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
